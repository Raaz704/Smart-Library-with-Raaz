<!DOCTYPE html>
<html lang="en">
<head>
  <title>Student Dashboard | Smart Library</title>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <!-- Google Font -->
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">

  <!-- Font Awesome -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

  <!-- CSS -->
  <link rel="stylesheet" href="assets/css/student-dashboard.css">
  <style>
    * {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
  font-family: 'Poppins', sans-serif;
}

body {
  background: #0f172a;
  color: #fff;
}

.sidebar a {
  color: #fff;
  text-decoration: none;
  display: block;
}


.dashboard {
  display: flex;
  min-height: 100vh;
}

/* SIDEBAR */
.sidebar {
  width: 240px;
  background: #020617;
  padding: 30px 20px;
}

.sidebar h2 {
  margin-bottom: 30px;
}

.sidebar ul {
  list-style: none;
}

.sidebar ul li {
  padding: 12px 10px;
  margin-bottom: 10px;
  border-radius: 8px;
  cursor: pointer;
}

.sidebar ul li i {
  margin-right: 10px;
}

.sidebar ul li:hover,
.sidebar ul .active {
  background: #1e293b;
}

.logout {
  margin-top: 40px;
  color: #f87171;
}

/* MAIN */
.main {
  flex: 1;
  padding: 30px;
}

/* TOPBAR */
.topbar {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 30px;
}

.student-info {
  display: flex;
  align-items: center;
  gap: 8px;
}

/* CARDS */
.cards {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(200px,1fr));
  gap: 20px;
  margin-bottom: 30px;
}

.card {
  background: linear-gradient(135deg, #22c55e, #16a34a);
  padding: 25px;
  border-radius: 16px;
}

.card p {
  font-size: 32px;
  font-weight: 600;
  margin-top: 10px;
}

/* TABLE */
.table-box {
  background: #020617;
  padding: 25px;
  border-radius: 16px;
}

.table-box h4 {
  margin-bottom: 15px;
}

table {
  width: 100%;
  border-collapse: collapse;
}

table th,
table td {
  padding: 12px;
  text-align: left;
}

table tr {
  border-bottom: 1px solid #1e293b;
}

/* STATUS */
.status {
  padding: 4px 12px;
  border-radius: 20px;
  font-size: 12px;
}

.issued {
  background: #60a5fa;
  color: #000;
}

.due {
  background: #f87171;
  color: #000;
}

  </style>
</head>
<body>

<div class="dashboard">

  <!-- SIDEBAR -->
  <aside class="sidebar">
    <h2>ðŸ“š SmartLibrary</h2>
    <ul>
      <a href="student-dashboard.html"><li class="active"><i class="fa-solid fa-house"></i>Dashboard</li></a>
      <a href="issue-book.html"><li><i class="fa-solid fa-book"></i> My Books</li></a>
      <a href="books.html"><li><i class="fa-solid fa-magnifying-glass"></i> Browse Books</li></a>
      <a href="student-profile.html"><li><i class="fa-solid fa-user"></i> Profile</li></a>
     <a href="login.html"> <li class="logout"><i class="fa-solid fa-right-from-bracket"></i>Logout</li></a>
    </ul>
  </aside>

  <!-- MAIN -->
  <main class="main">

    <!-- TOPBAR -->
    <div class="topbar">
      <h3>Student Dashboard</h3>
      <div class="student-info">
        <i class="fa-solid fa-user-graduate"></i>
        <span>Student</span>
      </div>
    </div>

    <!-- STATS -->
    <section class="cards">
      <div class="card">
        <h4>Books Issued</h4>
        <p id="issuedCount">2</p>
      </div>
      <div class="card">
        <h4>Books Returned</h4>
        <p>5</p>
      </div>
      <div class="card">
        <h4>Due Books</h4>
        <p id="dueCount">1</p>
      </div>
    </section>

    <!-- ISSUED BOOKS -->
    <section class="table-box">
      <h4>My Issued Books</h4>

      <table>
        <thead>
          <tr>
            <th>Book Name</th>
            <th>Issue Date</th>
            <th>Due Date</th>
            <th>Status</th>
          </tr>
        </thead>
        <tbody id="issuedTable">
          <tr data-due="2025-08-10">
            <td>Database Management System</td>
            <td>01 Aug 2025</td>
            <td>10 Aug 2025</td>
            <td><span class="status due">Due</span></td>
          </tr>
          <tr data-due="2025-09-01">
            <td>Computer Networks</td>
            <td>15 Aug 2025</td>
            <td>01 Sep 2025</td>
            <td><span class="status issued">Issued</span></td>
          </tr>
        </tbody>
      </table>
    </section>

  </main>
</div>

<script>
    document.addEventListener("DOMContentLoaded", () => {

  const rows = document.querySelectorAll("#issuedTable tr");
  let dueBooks = 0;

  const today = new Date();

  rows.forEach(row => {
    const dueDate = new Date(row.getAttribute("data-due"));
    if (dueDate < today) {
      dueBooks++;
      row.querySelector(".status").innerText = "Overdue";
      row.querySelector(".status").classList.add("due");
    }
  });

  document.getElementById("dueCount").innerText = dueBooks;

});

</script>
</body>
</html>
